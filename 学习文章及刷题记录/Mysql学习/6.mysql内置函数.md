MySql内置函数



日期函数

```sql
current_date() //获取当前日期
current_time() //当前时间
current_timestamp() //获取当前时间戳
```



```sql
date_add(date,interval d_value_type);
//在date中添加日期或者时间，interval后的数值单位可以是year，minute，second，day
```



```sql
date_sub(date,interval d_value_type)
//在date日期中减去日期或者时间，interval后面的数值可以是year，minute，second，day
```



```sql
datediff(date1,date2);
//两个日期的差，单位是天
```



```sql
select current_data();
//筛选当前日期

selectcurrent_time();
//显示当前时间


date_add('2022-04-18'，interval 10 day)//在data中添加时间

date_sub();//减法

datediff(date1,date2);//计算两个日期的时间差


now();//获取当前日期时间和timestamp一样
```

创建生日表

```sql
create table tmp
(
	id int auot_increment,
	birthday date;
)
```

```sql
insert tmp(birthday) value('1999-9-9'),('1895-5-6'),(now());
```

创建一个留言表

```sql
create table msg(
	id int primary key auto_increment,
    nick_name varchar(20) not null
    content varchar(30) default '这个人很懒，没有留下任何留言',
    sendtime datetime;
)engine=Innodb;
```

插入元素

```sql
insert into msg(nick_name,content,sendtime) values('会飞的猪','哈哈嗨',now()),('猴子','h哈哈黑',now());

select content,date(sendtime) from msg;
```

查询二分钟以内发布的帖子

```sql
select * from msg where date_add(sendtime,interval 2 minute)>=now();
```



字符串函数

```sql
 select charset(str)：返回字符串字符集
concat(str):连接字符串

```

连接字符串

```sql
select concat('hello',' ','world') msg;
```

```sql
select concat(name,'的语文成绩是',chinese,'分，数学成绩是',math,'分，英语成绩是',english)  成绩概览 from exam_result;
```

length

```sql
slelect name ,length(name) from exam_result;
//length求字节长度
```

replace 

```sql
select repalce (name,'S','hello');
//将name中所有的S字符串替换为hello
```

substring(str,positon,length);

```sql
select substring('hello',1,2),
//下标从1开始，qu

//截取name中第二到第三个字符
select substring(name,2,2);
```

大小写转化

```sql
ucase(str):转化为大写
lcase(str):转化为小写



//以首字母小写的方式显示所有员工
select concat(lcase(substring(name,1,1)),substring(name,2));
```

instr

```sql
select instr(string,substring);
//在string中查找子串substring是否存在(首次出现位置)，不存在返回0

```

strcmp

```sql
select strcmp('abc','Abcd');

```

trim

```sql
select trim('a a b c d');
//去除字符串空格


ltrim()//去除左侧的空额
select ltrim('        aaaaa');

```







数学函数

```sql
abs:绝对值
select abs(-1);

bin:十进制转化为二进制

hex:转化为16进制


ceiling：向上取整(数轴上从右向左取整如-3.9取整为-3)
select ceiling(23.02);//24

floor:向下取整
select floor(24.8);//24

format(3.14,1);//保留小数，四舍五入进行保留


```

```sql
select abs(-10);
```

```sql
select ceiling(10.1);
#向上取整
```

```sql
select floor(4.1)//4
//向下取整
```

```sql
select format(3.1415926,2);
#3.14
//去几位精度，四舍五入输出
```

```sql
select rand()*100;
//生成0~99之间的数

select floor(rand()*100);//0~100之间的整数

```

```sql
select mod(-10,-3)//取模

```



其它函数

```sql
select user();
//查看当前用户
```

```sql
//一般mysql中保存密码不要使用明文,md5(passwd)
//1.mysql里面没有铭文密码，即便是内部的DBA，也无法查看密码
//2.摘要密码是定长的
mod5
```

```sql
select database();
//正在使用的数据库
```

```sql
select password('adacdss');
//对密码进行加密
```

```sql
ifnull('a','b');
```

