mysql的基本查询

数据库的增删改查CURD：创建(新增数据)，读取，更新，删除



6.1Create 

创建表

```sql
create table t20(
	id int unsigned primary key auto_increment comment '主键',
    sn int unsigned not null unqiue comment '学号',
    name varchar(20) not null,
    qq varchar(12)
)engine=InnoDB default chsrset=utf8;
```

插入语句

单行插入

```slq
insert t20(sn,name,qq) values(123,'猪八戒','1234567');
```

多行行插入

```sql
insert t20(sn,name,qq) values(123,'猪八戒','1234567'),
(125,'hello','456789');
```

```sql
insert into t20(id,name,qq) values(5,'hsjl','585785');
```

当出现主键和唯一键冲突

```
insert into t10 values(1,123,'猪悟能','55555') on duplicate key name='猪悟能',qq='555555';

```

唯一键冲突之后

```

```

替换

```sql
主键或者唯一教案没有冲突，则直接插入
主键或者唯一键由冲突，则删除后再插入
replace  into t20  values(3.125,'李四','55618415');
```



6.2Retrieve

查询语句

6.2.1select 查询

全列查询

```sql
//通常情况下不建议使用*进行全列查询

select * from exam_result;
```

查询指定列

```sql
select name,math ,id from exam_result
```

计算能力

```sql
select name,math.chinses,math+chinsex+englist as 总分 from exam_result;
```

去重

```sql
select distinct math from exam_result;
```

筛选条件

```sql
select name,math form exam_result where math>80;
```

where条件



数学成绩是58，59或者98 ，99的同学

```sql
select name,math from exam_result where math in (58,59,98,99);
```



模糊匹配

```
select name from exam_result where name like '孙%';
```

```sql
select name from exam_result where name like '孙_';
```

挑选总分在200以下的同学

```sql
select name chinese+english+math as '总分' from exam_result where chinese+english+math<200
```

where后续的子句本身就是在我们select期间要进行作为条件筛选的

语文成绩>80并且不姓孙

```sql
select name chinese where chinses>80 and not like '孙%';
```

孙某同学，否则要求总成绩>200并且语文成绩<数学成绩并且英文成绩>80

```sql
select name chinese math english from exam_result  where like '孙_'or (english+math+chinese>200 and chinses<math and english>80);
```

结果排序

```
order by 
asc 升序，在不指定的情况下默认为升序
desc 降序
```

```sql
select name,math from exam_result order by math;
//默认是升序排列
select name,math from exam_result order by math desc;
```

挑选同学及qq号，按照qq号码进行排序

```sql
select name,qq from t20 where sn is not null order by qq ;
```

查询各科成绩，一次按照数学降序，英语升序，语文升序的方式显示

```sql
select name,chinses ,math englist from exam_result where order by math desc,englist asc,chinses asc;
```

```sql
select name,chinses+math+englist as total from exam_result where order by total;
```

limit 

```sql
select * from  limit 3;
//显示前n行

select * from limit 3,2;
//从3号下标开始显示2个

select * from exam_result limit 2 offset 3;
//和上面那个其实是一样的作用

```

分页显示

```sql
select * from exam_result limit 3 offset 0
```



6.3Updata

更新数据

修改数据之前必须先找到数据然后才能进行修改

```sql
updata exam_result set math=80 where name='孙权';
```

```sql
updata exam_result set math=60,chinses=70 where name='孙悟空';
```

总成绩倒数前三的三名同学数学成绩+30分

```sql
updata exam_result set math=math+30 where name in (select name from exam_result order by english+math+chinese limit 3);
```



delete

删除

删除之前要找到数据

```sql
delete from exam_result where name='孙悟空';

```

 删除总分是倒数三名的学生

```sql
delete from exam_result where name in(select name where order by english+math+chinses desc limit 3);
```

清空数据

```sql
delete from exam_result ;
```

