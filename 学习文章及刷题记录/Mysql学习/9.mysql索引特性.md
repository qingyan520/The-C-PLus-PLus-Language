

9.mysql索引特性

建立索引，加快对数据库的查找性能，而插入删除的速度就会变慢

索引可以提高海量数据索引

索引分为：

主键索引

唯一索引

普通索引

全文索引





建立索引

```sql
alter table EMP add index(empno);
```



mysql本质上也可以理解成为一个用户层文件系统

mysql进行IO操作的基本单位为16kb

mysql在启动的时候，就已经申请了大量的内存空间，作为数据的缓冲区，buffer_pool

mysql的所有操作，都必须在内存中进行

mysql中的数据文件，是以page为单位保存在磁盘中的

```sql
mysql -uroot -p;

create table if not exists user(
	id int primary key,
    age int not null,
    name varchar(16) not null
)
```

如果设置了主键约束，插入后会自动进行排序

IO效率低主要是：

等：等磁盘要找到一个一个的磁道

拷贝：

mysql在运行的时候，一定有大量的page需要被换入换出

一个时间点内，MySQL内部一定存在大量page

MySQL需要把page管理起来

查找的本质就是排除的过程，如果是有序的，就可以支持一次排除一批

访问表的时候，一定要把所有的数据建成index全量加入到buffer pool中吗？

不需要

页表其实一个多级结构，类似于b/b+树结构



只存储索引不存储数据

为了让这颗树变得更加低矮，增加查找效率

叶子节点用双链表连起来：

MySQL是一个用户及的文件系统，



page分为目录页和数据页，目录页只放各个下级page的最小键值

查找的时候，自定向下找，



索引的建立是基于列(多列，复合索引)为单位



索引的操作

索引的创建

主键索引的创建

```sql
1.在创建表的时候，直接在字段名后面添加primary key
create table index_test(int int primary key,name varchar(20));
show index from index_test\G;
alter table index_test drop primary key;

2.

3.alter table index_test add primary key(id);
show index from index_test\G

```

唯一索引的创建

```sql
第一种方式


第三种方式
alter table index_test  add unique(name);
show keys from index_test\G

alter table index_test drop index name;

```

普通索引的创建

```sql

```



```sql
alter table idnex_test add primary key(id);

```

![image-20220507214748117](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20220507214748117.png)



