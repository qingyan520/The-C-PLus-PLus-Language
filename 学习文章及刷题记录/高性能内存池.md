### 高性能内存池

#### 定长内存池

```cpp
//ObjectPool.h
#pragma once
#include<iostream>
using std::cout;
using std::endl;
template<class T>
class ObjectPool{
    private:
    char*_memory;
    
};
```

test.h

```

```

#### 高并发内存池整体框架设计

thread cache整体设计

thread cache

自由链表：管理切好的小块内存

```cpp
//Common.h
#include<iostream>
#include<assert.h>
sttatic const size_t MAX_BYTES=256*1204;
//管理切分好的小对象的自由链表
void*&NextObj(void*obj){
    return *(**)obj;
}
class FreeList{
    public:
    void Push(void*obj){
        //头插
        NextObj(obj)=_freeList;
        _freeList=obj;
        
    }
    void*Pop(){
        assert(_freeList);
        void*obj=_freeList;
        _freeList=NextObj(obj);
        
    }
    private:
    void*_freeList;
};


class SizeClass{
  public:
    
};
```



```cpp
//threadCache .h
#include"Common.h"
class ThreadCache{
    public:
    void*Allocate(size_t size);
    
    void Deallocate(void*ptr,size_t size);
    private:
    FreeList _freeLists[]
  	  
};
```

```cpp
//threadCache.cpp
#include"threadCache.h"
void*ThreadCache::Allocate(size_t size){
    assert(size<=MAX_BYTES);
    
}


void ThreadCache::Deallocate(void*ptr,size_t size){
    
}
```



central cache

page cache

