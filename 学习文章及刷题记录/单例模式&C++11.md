### 单例模式&C++11

超过100G的log file,log中存IP地址，找出现次数最多的IP地址，topk的ip，如何直接用Linux命令进行实现

假设生成A0~A99一共100个文件，一次读取大文件中的ip，计算每个ip映射的文件号，i=HashBKDR()(ip)%100，这个ip就进入Ai号小文件

再依次读取A0~A99，一个个处理，读取Ai文件，如果Ai大于2G，可以再次进行切分，类似于上面，如果小于2G，那就使用一个map<string,ip>统计次数，这样相同的ip一定进入了一个文件，所以直接统计小文件中的次数即可

出现次数最多的k个IP，建一个k个数的小队，

1.创建一个类，这个对象只能创建在堆上

```cpp
#include<iostream>
using namespace std;
class HeapOnly{
    private:
    HeapOnly(){
        
    }
    
    //拷贝构造私有，并且只声明不实现
    //实现也是可以的，但是没人用 
    HeapOnly(const HeapOnly&)；
    public:
    static HeapOnly*CreateObj(){
        return new HeapOnly;
    }
};
int main(){
    HeapOnly*=HeapOnly::CreateObj();
    
    return 0;
}
```

2.设计一个类，只能在栈上创建对象

```cpp

```

