# 常用刷题算法合集

## 1.前缀和

前缀和通常用来求子数列的和：

例如：1，3，7，5，2

求区间[2,3]=12,[1,4]=17,我们通常采用直接相加，但是这样效率极低，像这样求子数列和的问题我们一般用前缀和来解决

我们重新定义一个sum数组，数组大小和原来数组大小一样，我们重新构建sum数组：
$$
sum[i]=sum[i-1]+arr[i],i>0
$$

$$
sum[i]=arr[i],i=0
$$

以上面的例子为例,sum数组就变为1，4，11，16，18，这样，sum[i]就为前i个数的综合，例如我们要求区间[2,4]的和，只要sum[4]-sum[2-1],即用前5个元素的总和减去前2个元素的和就是区间[2,4]这三个元素的总和，在此，我们得到求区间连续区间和的公式：

例如，区间[L,R],设和为n:
$$
n=sum[R]-sum[L-1],L>0
$$

$$
n=sum[R],L=0
$$

这样，我们就找到了求连续区间子数列和的简便方法，减少时间复杂度

```cpp
#include<iostream>
using namespace std;
int main()
{
	int arr[] = { 1,3，7，5，2};
	int sum[5] = { 0 };
	sum[0] = arr[0];
	for (int i = 1; i < 5; i++)
	{
		sum[i] = sum[i - 1] + arr[i];
	}
	return 0;
}
```

## 2.四平方定理：

#### [279. 完全平方数](https://leetcode-cn.com/problems/perfect-squares/)

> 给定正整数 n，找到若干个完全平方数（比如 1, 4, 9, 16, ...）使得它们的和等于 n。你需要让组成和的完全平方数的个数最少。
>
> 给你一个整数 n ，返回和为 n 的完全平方数的 最少数量 。
>
> 完全平方数 是一个整数，其值等于另一个整数的平方；换句话说，其值等于一个整数自乘的积。例如，1、4、9 和 16 都是完全平方数，而 3 和 11 不是。
>

**示例 1：**

```cpp
输入：n = 12
输出：3 
解释：12 = 4 + 4 + 4
```

**示例 2：**

```cpp
输入：n = 13
输出：2
解释：13 = 4 + 9
```

> 本题最优解动态规划，无奈不会啊，所以只能用看的懂的[四平方数和定理_](https://baike.baidu.com/item/四平方数和定理/18906811?fr=aladdin)

> 四平方和定理：任意一个正整数都可以表示为不超过4个的完全平方数之和
>
> 而且如果n==4^k(8*m+7),那么n就能由4个完全平方数表示

> 换句话说本题的答案最大为4，有且只有1，2，3，4四个答案中的一个
>
> 上面已经讨论了答案为4的情况
>
> 当返回值为1时，说明自身就是完全平方数，不需要用其他数来表示
>
> 当答案为3是比较复杂，这里咋不进行讨论
>
> 我们先讨论答案为2的情况，当答案为2时，说明n可以表示为n=a*a+b*b的方式
>
> n=a*a+b*b=>a*a=n-b*b,那么就可以转化为判断n-a*a的结果是不是完全平方数了
>
> 如果是就返回2
>
> 当把前面三种情况都安排完之后那么就只能是由3个数构成了

```cpp
class Solution {
public:

  //创建一个函数判断是否为完全平方数
  bool IsSqort(int x)
  {
​    int y=sqrt(x);
​    return y*y==x;
  }

  //判断是否为四位数组成的最特殊的存在
  bool Is(int x)
  {
​    while(x%4==0)
​    {
​      x=x/4;
​    }
​    return x%8==7;
  }


  int numSquares(int n) {
​    //1.判断是否为由一个数组成的平方数
​    if(IsSqort(n))
​    {
​      return 1;
​    }


​    //2.判断是否为由4个数组成的平方数
​    if(Is(n))
​    {
​      return 4;
​    }


​    //3.判断是否为由两个数组成的平方数
​    for(int i=1;i*i<n;i++)
​    {
​      if(IsSqort(n-i*i))
​      {
​        return 2;
​      }
​    }

​    return 3;    
  }

};
```

