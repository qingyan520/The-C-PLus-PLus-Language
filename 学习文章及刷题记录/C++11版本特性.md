C++11版本特性

1.Variadic Templates

(参数数量不定的模板)

```cpp
void print()
{
    
}
template<class T,class...types>
void print(const T&fist,const types&...args)
{
    cout<<first<<endl;
    print(arga...);
}
```

将参数进行分解，类似于递归的情况，每一个每一个·进进行打印，要函数出口

...就是一个所谓的pack(包)

```cpp
template<typename ...Types>
void print(cosnt Types&...args)
{
	
}
```



2.Space in Template Expressions



```cpp
vector<list<int> >//in each C++ verssion
vector<list<int>>//C++
```

nullptr and std::nullptr_t

```cpp
nullptr用来代替空指针
```

Automatic Type Deduction with auto

```cpp
auto:自动推导类型名称
必须进程初始化
int a=10;
auto s=a;//s也是一个整数
//常用来定义迭代器
```



3.Uniform Initialization

一致性的初始化，任何初始化都可以用{}

```cpp
//c++11初始化方法
//编译器只要看到{}就会做出一个initializer list<T>,它内部有一个array[T,n],调用函数时该array内的元素被编译器逐一分解传递给函数，但若参数是一个initializer_list<T>,调用者却不能给予数个T参数然后以为他们会被自动转为一个initializer_list<T>传入
int value[]{1,2,3};
vector<int>v{2,3,4,5,6};
vector<string>cities{"beijin","tianjin"};
//这形成一个initializer_list<string>，背后有一个array<string,6>,调用vectir<string>ctors时编译器找到了一个vector<string>
complex<double>c{4.0,3.0};

```



4.Initializer_Lists



```cpp
void print(std::initializer_list<int>vals)
{
    for(auto p=vals.begin();p!=vals.end();p++)
    {
        cout<<*p<<endl;
    }
}
print({1,2,3,5,8,9});//pass a list of value to print()
```



```cpp
class P
{
public:
    //版本一
    P(int a,int b)
    {
        cout<<"P(int,int),a="<<a<<"b="<<b<<endl;
    }
    //版本二
    P(initializerr_list<int>initlist)
    {
        cout<<"P(initializer_list<int>),value=";
        for(auto i:initlist)
        {
            cout<<i<<" ";
        }
        cout<<endl;
    }
    
}
P p(77,5);//调用版本一
P q{77,5};//调用版本二
P r{77,5,42};//调用版本二
P s={77,5};//调用版本二

//当没有版本二的构造函数时，p,q,s可以正常显示，用的版本一，而r会报错
```



 ![image-20211102185549822](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102185549822.png)



```cpp
vector<int>v{2.5,5,6,5,8,2};
cout<<max({1,2,5,89,10,2,5})<<endl;
cout<<min({2,0,1,5,3,8,25})<<endl;
```



5.explicit for ctor taking more than one argument

C++11之前：只支持单一参数

![](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102191548429.png)

```cpp
//explict:不要自动转化类，防止隐式类型转化，一般只用在构造函数前面
class Complex
{
	public:
    
    
    
}
```

![image-20211102192857796](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102192857796.png)





6.range-based for statement

C++11for循环自动

```cpp
for(decl:coll)
{
	statement;
}
```



```cpp
for(int i:{2,,3,4,5,8,7})
{
	cout<<i<<endl;
}
```

```cpp
for(auto &elem:vec)
{
	elem*=3;
}
```

常用来遍历迭代器

```cpp
for(auto it=coll.begin();it!=coll.end();it++)
{
	cout<<*it<<endl;
}
```







7.=default,=delete







8.Alias Template(template typedef)

C++11取别名：

```cpp
template <typename T>
using Vec=std::vector<T,Myalloc<T>>;
Vec<int>coll;

```

与typedef不同，typedef不能传递参数

​	

9.template template parameter

模板模板参数

![image-20211102203419711](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102203419711.png)



10.Type Alias(similar to typedef)

类似于typedef

```cpp
typedef void(*func)(int,int);
using func=void(*)(int,int);
void emample(int,int){}
func fn=example;
```



```cpp
using value_type=T;//typedef T value_type
```



noexcept

```cpp
void foo()noexcept;//保证该函数不会抛出异常
void foo()noexcept(true);//可以含有条件
```



override

```
检查子类是否成功复写父类的虚函数
```



final

```cpp
struct Basel final{};
satruct Dever:basel{};
//报错，该类不可以被继承
```

```
表示父类的虚函数不可以被重写
```





11.decltype

```cpp
map<string,float>coll;
decltype(coll):value_type elem;
```

 

![image-20211102212134609](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102212134609.png)



![image-20211102212550767](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102212550767.png)





12.Lambdas表达式

 

![image-20211102213425702](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102213425702.png)

![image-20211102214136853](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102214136853.png)



![image-20211102214451656](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211102214451656.png)

![image-20211103100918099](https://raw.githubusercontent.com/qingyan520/Cloud_img/master/img/image-20211103100918099.png)





13.Variadic Templates



